#!/bin/bash

# ğŸ›¡ï¸ CONFIGURATION SACRÃ‰E
GITHUB_USERNAME="DOMINUS-SILENS"
REPO_NAME="Institiuum"
GITHUB_SSH_URL="git@github.com:DOMINUS-SILENS/Institiuum.git"

# ğŸ“ Emplacement du projet (rÃ©pertoire courant)
PROJECT_DIR="$(pwd)"

echo "ğŸ“¦ DÃ©ploiement du projet depuis : $PROJECT_DIR"

# âš™ï¸ Ã‰tape 1 : initialisation Git (si nÃ©cessaire)
if [ ! -d ".git" ]; then
    echo "ğŸŒ€ Initialisation du dÃ©pÃ´t Git..."
    git init
    git branch -M main
fi

# ğŸ”— Ã‰tape 2 : configuration du remote (SSH)
if ! git remote | grep -q origin; then
    echo "ğŸ”— Ajout du remote SSH : $GITHUB_SSH_URL"
    git remote add origin "$GITHUB_SSH_URL"
else
    echo "â™»ï¸ Remote dÃ©jÃ  prÃ©sent, mise Ã  jour..."
    git remote set-url origin "$GITHUB_SSH_URL"
fi

# â• Ã‰tape 3 : ajouter tous les fichiers
git add .

# ğŸ“ Ã‰tape 4 : message de commit
read -p "ğŸ’¬ Message du commit : " COMMIT_MSG
git commit -m "$COMMIT_MSG"

# ğŸš€ Ã‰tape 5 : push vers GitHub
echo "ğŸš€ PoussÃ©e vers GitHub (SSH)..."
git push -u origin main

echo "âœ… Push terminÃ© avec succÃ¨s."

